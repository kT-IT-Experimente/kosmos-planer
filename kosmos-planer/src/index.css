@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ═══════════════════════════════════════════════
       KOSMOS 2026 CI — 3 Color System
       Purple: #2E1A6E  |  Mint: #81C7A9  |  Yellow: #EDE556
       ═══════════════════════════════════════════════ */
    --k-purple: #2E1A6E;
    --k-mint: #81C7A9;
    --k-yellow: #EDE556;
    --k-accent-red: #FF4D4D;
  }

  body {
    margin: 0;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: #F5F3FA;
    color: var(--k-purple);
  }
}

@layer components {

  /* ── Typography (all text = Purple) ── */
  .k-h1 {
    @apply text-3xl md:text-4xl font-extrabold tracking-tight;
    color: var(--k-purple);
  }

  .k-h2 {
    @apply text-xl md:text-2xl font-bold tracking-tight;
    color: var(--k-purple);
  }

  .k-h3 {
    @apply text-lg font-bold;
    color: var(--k-purple);
  }

  .k-body-large {
    @apply text-base font-medium leading-relaxed;
    color: var(--k-purple);
  }

  .k-body {
    @apply text-sm leading-relaxed;
    color: var(--k-purple);
  }

  .k-caption {
    @apply text-xs font-semibold tracking-wider uppercase;
    color: var(--k-purple);
  }

  /* ── Buttons (Purple bg + Yellow text) ── */
  .k-btn-primary {
    @apply flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-bold transition-all duration-200 transform active:scale-95 shadow-lg;
    background-color: var(--k-purple);
    color: var(--k-yellow);
  }

  .k-btn-primary:hover {
    filter: brightness(1.2);
    box-shadow: 0 4px 12px rgba(46, 26, 110, 0.4);
  }

  .k-btn-secondary {
    @apply flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-bold transition-all duration-200 transform active:scale-95 border-2;
    background-color: transparent;
    border-color: var(--k-purple);
    color: var(--k-purple);
  }

  .k-btn-secondary:hover {
    background-color: rgba(46, 26, 110, 0.1);
  }

  .k-btn-glass {
    @apply flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-bold transition-all duration-200 transform active:scale-95 backdrop-blur-md border-2;
    background-color: rgba(255, 255, 255, 0.5);
    border-color: var(--k-purple);
    color: var(--k-purple);
  }

  .k-btn-glass:hover {
    background-color: rgba(255, 255, 255, 0.8);
  }

  /* ── Cards & Panels ── */
  .k-card {
    @apply rounded-xl border backdrop-blur-md overflow-hidden transition-all;
    background-color: #FFFFFF;
    border-color: rgba(46, 26, 110, 0.15);
  }

  .k-panel-glass {
    @apply rounded-xl border backdrop-blur-xl shadow-2xl;
    background-color: rgba(255, 255, 255, 0.85);
    border-color: rgba(46, 26, 110, 0.15);
  }

  /* ── Inputs ── */
  .k-input {
    @apply w-full px-4 py-3 rounded-lg text-sm bg-white border-2 placeholder-slate-400 focus:outline-none focus:ring-2 transition-all;
    color: var(--k-purple);
    border-color: rgba(46, 26, 110, 0.2);

    &:focus {
      border-color: var(--k-purple);
      box-shadow: 0 0 0 2px rgba(46, 26, 110, 0.3);
    }
  }

  .k-badge {
    @apply inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider;
  }
}

/* ══════════════════════════════════════════════════════
   GLOBAL OVERRIDES — Yellow text on purple backgrounds
   These rules make nav bars, dashboard headers, and 
   buttons with dark purple backgrounds show yellow text,
   WITHOUT changing any JSX code.
   ══════════════════════════════════════════════════════ */

/* Dark purple backgrounds → yellow text + yellow icons */
.bg-indigo-900,
.bg-indigo-800,
.bg-indigo-700 {
  color: var(--k-yellow) !important;
}

.bg-indigo-900 *,
.bg-indigo-800 *,
.bg-indigo-700 * {
  --tw-text-opacity: 1;
}

/* Purple buttons → yellow text */
.bg-indigo-600 {
  color: var(--k-yellow) !important;
}

.bg-indigo-600:hover {
  filter: brightness(1.15);
}

/* Ensure text-white on purple bg becomes yellow */
.bg-indigo-900 .text-white,
.bg-indigo-800 .text-white,
.bg-indigo-700 .text-white,
.bg-indigo-600 .text-white {
  color: var(--k-yellow) !important;
}

/* Footer/Bottom navigation override */
.bg-slate-800,
.bg-slate-900 {
  background-color: var(--k-purple) !important;
  color: var(--k-yellow) !important;
}

.bg-slate-800 .text-white,
.bg-slate-900 .text-white {
  color: var(--k-yellow) !important;
}

/* ══════════════════════════════════════════════════════
   WHITE MODE OVERRIDES — Glass panels, modals, content
   Force all content areas to white mode with dark text.
   Purple+Yellow only on header/footer menu bars.
   ══════════════════════════════════════════════════════ */

/* Glass panels → solid white, dark text */
.k-panel-glass {
  background-color: #FFFFFF !important;
  border-color: rgba(46, 26, 110, 0.15) !important;
  color: var(--k-purple) !important;
}

/* CATCH-ALL: Force ALL text inside glass panels to dark purple.
   This covers text-white, text-white/40, text-white/60, etc. */
.k-panel-glass,
.k-panel-glass *:not(button):not([class*="bg-indigo"]):not([class*="bg-red"]):not([class*="bg-green"]):not([class*="bg-amber"]):not([class*="bg-emerald"]):not([class*="k-btn"]):not([class*="badge"]) {
  color: var(--k-purple) !important;
}

/* Preserve colored text for badges, status indicators, and buttons */
.k-panel-glass [class*="bg-indigo"] {
  color: var(--k-yellow) !important;
}

.k-panel-glass [class*="bg-red-6"] {
  color: #fff !important;
}

.k-panel-glass [class*="bg-emerald"] {
  color: #fff !important;
}

.k-panel-glass .k-btn-primary {
  color: var(--k-yellow) !important;
}

/* Muted text (was text-white/40, text-white/50, etc.) → half-opacity purple */
.k-panel-glass [class*="text-white/"] {
  color: rgba(46, 26, 110, 0.5) !important;
}

/* Dark sub-sections inside glass panels → light purple tint */
.k-panel-glass [class*="bg-black"] {
  background-color: rgba(46, 26, 110, 0.06) !important;
}

/* White-opacity borders inside panels → purple tint */
.k-panel-glass [class*="border-white"] {
  border-color: rgba(46, 26, 110, 0.12) !important;
}

/* Dividers inside panels */
.k-panel-glass [class*="divide-white"]>*+* {
  border-color: rgba(46, 26, 110, 0.12) !important;
}

/* Speaker toggle and dark inputs inside content → lighter */
.k-panel-glass [class*="bg-slate-8"] {
  background-color: rgba(46, 26, 110, 0.08) !important;
  color: var(--k-purple) !important;
}

/* Fix SpeakerProfile/Registration dark-mode toggle area */
[class*="bg-slate-800"] {
  background-color: rgba(46, 26, 110, 0.08) !important;
  color: var(--k-purple) !important;
}

/* Black buttons → purple with yellow text */
button[class*="bg-black"],
button[class*="bg-slate-9"],
button[class*="bg-slate-8"] {
  background-color: var(--k-purple) !important;
  color: var(--k-yellow) !important;
}

/* Fix modal backdrop to still be dark */
.fixed[class*="bg-black"] {
  background-color: rgba(0, 0, 0, 0.8) !important;
}

/* Session cards in Einreichung — ensure dark text on light bg */
[class*="bg-slate-50"],
[class*="bg-slate-100"] {
  color: var(--k-purple) !important;
}

/* Custom Scrollbar */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: rgba(46, 26, 110, 0.2);
  border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: rgba(46, 26, 110, 0.4);
}